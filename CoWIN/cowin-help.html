
<!DOCTYPE html>
<html>
  <title>CoWIN Vax Centers Aggregator, Filter, and Notifier</title>
  <body>
    <h3>CoWIN Vax Centers Aggregator, Filter, and Notifier</h3>
    <p>This utility allows you to fetch CoWIN vax centers in/around Bangalore.
    Centers roughly within 3-4 hrs driving distance are covered, and currently include the districts of
    BBMP, Bangalore Urban, Bangalore Rural, Tumkur, Kolar, Ramanagara, Mandya,
    Mysore, Chamarajanagara, Chikkaballapura, Chitradurga, Hassan, Dharmapuri, Krishnagiri, and Chittoor.</p>
    <p>You can use the utility in two modes: <b>fetch</b> and <b>notify</b><p>
    In <b>fetch</b> mode, the URL begins with "https://127.0.0.1:8000/cowin/<b>fetch</b>/..." and is
    followed by 0 or more <b>filters</b> separated by /<p>
    <b>Filters</b> allow the listing of results that are relevant to you, and can be
    based on pincode, area, district, vaccine type, availability, age, etc.<p>
    For example, "https://127.0.0.1:8000/cowin/fetch/covax/avail/18" includes filters
    <b>covax</b>, <b>avail</b>, and <b>18</b>, and will fetch only centers that are vaccinating
    people who are 18+ with covax, and which currently have availibilty.
    More details of filters with examples is described in the next section.
    <p>You can also register to be notified when there is availibility on your filtered list,
    using "https://127.0.0.1:8000/cowin/notify/email@domain.com/...", where, as before, the URL
    is followed by the list of filters. The <b>avail</b> filter
    is added by default even if not specified (only for notifications).</p>
    <p>An email will be sent to the email id provided, (email@domain.com in the URL above) whenever the list of centers that have
    availibility in the filtered list changes.</p>
    <p>You can unsubscribe from notifications using the <b>denotify</b> command: 
    "https://127.0.0.1:8000/cowin/denotify/email@domain.com". This will stop notifications to email@domain.com
    <p>To change a registered filter, simply re-register with a new filter on the same email id. The old filter
    will be replaced by the new one.</p>

    <h3>More on filters</h3>
    <p>In the examples below, replace "fetch" with "notify/email@domain.com" to register the filter
    for notification. Note that the <b>avail</b> filter is added by default for notifications</p>
    <p><b>Fetch all centers</b><br>
    <a href="https://127.0.0.1:8000/cowin/fetch">https://127.0.0.1:8000/cowin/fetch</a></p>
    <p><b>Filter: covax</b> - Fetch only covax centers<br>
    <a href="https://127.0.0.1:8000/cowin/fetch/covax">https://127.0.0.1:8000/cowin/fetch/covax</a></p>
    <p><b>Filter: covsh</b> - Fetch only covishield centers<br>
    <a href="https://127.0.0.1:8000/cowin/fetch/covsh">https://127.0.0.1:8000/cowin/fetch/covsh</a></p>
    <p><b>Filter: avail</b> - Fetch only centers with availability (Dose 1 or Dose 2)<br>
    <a href="https://127.0.0.1:8000/cowin/fetch/avail">https://127.0.0.1:8000/cowin/fetch/avail</a></p>
    <p><b>Filter: dose1</b> - Fetch only centers with Dose 1 availability<br>
    <a href="https://127.0.0.1:8000/cowin/fetch/dose1">https://127.0.0.1:8000/cowin/fetch/dose1</a></p>
    <p><b>Filter: dose2</b> - Fetch only centers with Dose 2 availability<br>
    <a href="https://127.0.0.1:8000/cowin/fetch/dose2">https://127.0.0.1:8000/cowin/fetch/dose2</a></p>
    <p><b>Filter: 18</b> - Fetch only centers marked 18+<br>
    <a href="https://127.0.0.1:8000/cowin/fetch/18">https://127.0.0.1:8000/cowin/fetch/18</a></p>
    <p><b>Filter: 560003</b> - Fetch only centers in pincode 560003 (example)<br>
    <a href="https://127.0.0.1:8000/cowin/fetch/560003">https://127.0.0.1:8000/cowin/fetch/560003</a></p>
    <p><b>Filters can be cascaded in any order</b> - they will all be applied<br>
    <a href="https://127.0.0.1:8000/cowin/fetch/covax/avail/18">https://127.0.0.1:8000/cowin/fetch/covax/avail/18</a><br>
    will fetch all centers where covax is available and marked 18+.<br></p>
    <p><b>Order of filter does NOT matter.</b> So:<br>
    <a href="https://127.0.0.1:8000/cowin/fetch/covax/avail/18">https://127.0.0.1:8000/cowin/fetch/covax/avail/18</a><br>
    is the same as:<br>
    <a href="https://127.0.0.1:8000/cowin/fetch/18/covax/avail">https://127.0.0.1:8000/cowin/fetch/18/covax/avail</a><br>
    is the same as:<br>
    <a href="https://127.0.0.1:8000/cowin/fetch/covax/18/avail">https://127.0.0.1:8000/cowin/fetch/covax/18/avail</a><br></p>
    <p><b>Generic word filter</b> - Fetch only centers that contain a particular word, for example, <q>kolar</q><br>
    <a href="https://127.0.0.1:8000/cowin/fetch/kolar">https://127.0.0.1:8000/cowin/fetch/kolar</a><br>
    will fetch all centers that contain the word <q>kolar</q> in any of its fields<br>
    Uppercase/lowercase does NOT matter - any center that contains kolar, Kolar, KOLAR, KoLaR will be returned<br><br>
    Can be cascaded with other filters in any order, example:<br>
    <a href="https://127.0.0.1:8000/cowin/fetch/covax/kolar/avail/18">https://127.0.0.1:8000/cowin/fetch/covax/kolar/avail/18</a></p>
    <p><b>Word filters can be OR-ed with the | operator</b><br>
    <a href="https://127.0.0.1:8000/cowin/fetch/covax/bbmp|bangalore|mysore/avail/18">https://127.0.0.1:8000/cowin/fetch/covax/bbmp|bangalore|mysore/avail/18</a><br>
    will fetch all 18+ covax sites with availability that have Mysore or Bangalore or BBMP in any field</p>

    <b>E-mail:</b> <a href="mailto:achyut@acutebar.in">Achyut Bharadwaj</a>
  </body>
</html>
